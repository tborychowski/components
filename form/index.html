<!DOCTYPE html>
<head>
<meta charset="UTF-8">
<title>Form demo</title>
<style>
body { transition: opacity .3s ease-out; opacity: 0; }
exp-form { width: 500px;  }
</style>
</head>
<body>


<exp-form tabindex="0"></exp-form>


<script src="../node_modules/@webcomponents/webcomponentsjs/webcomponents-loader.js"></script>
<script src="index.js" type="module"></script>
<script>
function init () {
	document.body.style.opacity = 1;
	console.log('components ready!');
	// **********************************************************************


	const el = document.getElementsByTagName('exp-form')[0];

	el.date = '2018-03-20';
	el.categories = [
		{ id: 'child_1', name: 'Child 1' },
		{ id: 'child_2', name: 'Child 2', items: [
			{ id: 'grandchild_21', name: 'Grandchild 1', parentId: 'child_2' },
		]},
		{ id: 'child_3', name: 'Child 3', items: [
			{ id: 'grandchild_31', name: 'Grandchild 1', parentId: 'child_3' },
			{ id: 'grandchild_32', name: 'Grandchild 2', parentId: 'child_3' },
			{ id: 'grandchild_33', name: 'Grandchild 3', parentId: 'child_3' },
		]},
	];

	el.init();

	el.addEventListener('change', res => {
		console.log(res.type, res.detail.data);
	});

	el.addEventListener('submit', res => {
		console.log(res.type, res.detail.data);
	});

}
if (window.WebComponents.ready) init();
else window.addEventListener('WebComponentsReady', () => setTimeout(init, 100));
</script>

</body>
</html>
